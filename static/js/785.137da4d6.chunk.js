"use strict";(self.webpackChunklaraci_boilerplate_generator=self.webpackChunklaraci_boilerplate_generator||[]).push([[785],{3584:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(7064).Wp)({apiKey:"AIzaSyB3giGXUMCjHRk0XEILfrER2C1Y0CW4f7g",authDomain:"crud-generator-1d538.firebaseapp.com",projectId:"crud-generator-1d538",storageBucket:"crud-generator-1d538.appspot.com",messagingSenderId:"488917621676",appId:"1:488917621676:web:f2033cb973d031fdcdb809"})},7832:(e,a,t)=>{t.d(a,{A:()=>r});class r{static urlWrapper(e){return`${this.basename}${e}`}}r.basename="/crud-generator"},8785:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var r=t(5043),s=(t(7950),t(6885),t(579));function i(e){return(0,s.jsx)("div",{className:"page page-center",children:e.children})}var n=t(5472),l=t(3584),c=t(7832),d=t(8944);class o extends r.Component{constructor(e){super(e),this.state={isSearchingCredential:!1,results:{}}}componentDidMount(){}async attemptCredential(e){try{const a=(0,n.aU)(l.A);return await(0,n.GG)((0,n.P)((0,n.rJ)(a,"users"),(0,n._M)("email","==",e))).then((e=>e.docs.map((e=>e.data()))))}catch(a){console.error("Error search credential: ",a)}}handleSubmitLogin(e){e.preventDefault();let a=document.getElementById("auth-email").value;this.setState({isSearchingCredential:!0}),this.setState({results:{}}),this.attemptCredential(a).then((e=>{this.setState({isSearchingCredential:!1}),0==e.length?this.setState({results:{status:"error",data:{},message:"Credential not found!"}}):(this.setState({results:{status:"success",data:e[0],message:"Credential found"}}),localStorage.setItem("credentials",JSON.stringify(e[0])),window.location.href=c.A.urlWrapper("/dashboard"))}))}render(){return(0,s.jsx)(i,{children:(0,s.jsxs)("div",{className:"container container-tight py-4",children:[(0,s.jsx)("div",{className:"text-center mb-4",children:(0,s.jsx)("a",{href:".",className:"navbar-brand navbar-brand-autodark",children:(0,s.jsx)("img",{src:"/crud-generator/logo-mini.png",width:"110",alt:d.A.appName,class:""})})}),(0,s.jsx)("div",{className:"card card-md",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h2",{className:"h2 text-center mb-4",children:"Login to your account"}),(0,s.jsx)("div",{className:"my-5",children:"error"===this.state.results.status?(0,s.jsx)("div",{class:"alert alert-danger",role:"alert",children:this.state.results.message}):""}),(0,s.jsxs)("form",{id:"form-login",onSubmit:e=>this.handleSubmitLogin(e),children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Email address"}),(0,s.jsx)("input",{type:"email",id:"auth-email",name:"email",className:"form-control",placeholder:"your@email.com",required:!0})]}),(0,s.jsx)("div",{className:"form-footer",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-primary w-100 "+(this.state.isSearchingCredential?"disabled":""),children:this.state.isSearchingCredential?"Signing in...":"Sign in"})})]})]})})]})})}}const m=o}}]);
//# sourceMappingURL=785.137da4d6.chunk.js.map