{"version":3,"file":"static/js/785.137da4d6.chunk.js","mappings":"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","sources":["utils/firebase-config.jsx","utils/url-helper.js","views/layouts/auth/layout.jsx","views/pages/login.jsx"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB3giGXUMCjHRk0XEILfrER2C1Y0CW4f7g\",\n  authDomain: \"crud-generator-1d538.firebaseapp.com\",\n  projectId: \"crud-generator-1d538\",\n  storageBucket: \"crud-generator-1d538.appspot.com\",\n  messagingSenderId: \"488917621676\",\n  appId: \"1:488917621676:web:f2033cb973d031fdcdb809\"\n};\n\n// Initialize Firebase\nconst firebaseConf = initializeApp(firebaseConfig);\n\nexport default firebaseConf;\n// Now you can use Firebase services in your React app!","\n\nexport default class UrlHelper {\n    static basename = \"/crud-generator\"\n\n    static urlWrapper(url) {\n        if (process.env.NODE_ENV === 'development') {\n            return `${this.basename}${url}`\n        } else if (process.env.NODE_ENV === 'production') {\n            return `${this.basename}${url}` \n        }\n    }   \n}","import { Link } from 'react-router-dom';\n\nexport default function AuthLayout(props) {\n    return (\n        <div className=\"page page-center\">\n            {props.children}\n        </div>\n    )\n}","import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport ReactDOM from \"react-dom\";\nimport ReactDOMServer from \"react-dom/server\";\nimport AuthLayout from \"../layouts/auth/layout\";\nimport { collection, addDoc, updateDoc, getDocs, getFirestore, query, where, db, doc, documentId } from \"firebase/firestore\";\nimport firebaseConf from '../../utils/firebase-config';\nimport UrlHelper from \"../../utils/url-helper\";\nimport Constant from \"../../utils/constant\";\n\nclass Login extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            isSearchingCredential: false,\n            results: {}\n        }\n    }\n\n    componentDidMount() {\n        // setTimeout(() => {\n        //     window.location.href = \"/dashboard\"\n        // }, 3000);\n    }\n\n    async attemptCredential(email) {\n        try {\n            const database = getFirestore(firebaseConf)\n\n            // search users collection\n            return await getDocs(query(collection(database, \"users\"), where('email', \"==\", email)))\n                .then((snapshot) => {\n                    return snapshot.docs.map(data => {\n                        return data.data()\n                    })\n                })\n\n            // return await getDocs(query(collection(database, \"allowed_auth_credentials\"), where('email', \"==\", email)))\n            //     .then((snapshot) => {\n            //         return snapshot.docs.map(data => {\n            //             return data.data()\n            //         })\n            //     })\n        } catch (e) {\n            console.error(\"Error search credential: \", e)\n        }\n    }\n\n    handleSubmitLogin(e) {\n        e.preventDefault()\n\n        let email = document.getElementById('auth-email').value\n\n        this.setState({ isSearchingCredential: true })\n        this.setState({ results: {} })\n\n        this.attemptCredential(email)\n            .then(data => {\n                this.setState({ isSearchingCredential: false })\n\n                if (data.length == 0) {\n                    this.setState({\n                        results: {\n                            status: 'error',\n                            data: {},\n                            message: 'Credential not found!'\n                        }\n                    })\n                } else {\n                    this.setState({\n                        results: {\n                            status: 'success',\n                            data: data[0],\n                            message: 'Credential found'\n                        }\n                    })\n\n                    localStorage.setItem('credentials', JSON.stringify(data[0]))\n                    window.location.href = UrlHelper.urlWrapper(\"/dashboard\")\n                }\n            })\n    }\n\n    render() {\n        return (\n            <AuthLayout>\n                <div className=\"container container-tight py-4\">\n                    <div className=\"text-center mb-4\">\n                        <a href=\".\" className=\"navbar-brand navbar-brand-autodark\">\n                            <img src={process.env.PUBLIC_URL + '/logo-mini.png'} width=\"110\" alt={Constant.appName} class=\"\" />\n                        </a>\n                    </div>\n                    <div className=\"card card-md\">\n                        <div className=\"card-body\">\n                            <h2 className=\"h2 text-center mb-4\">Login to your account</h2>\n\n                            <div className=\"my-5\">\n                                {this.state.results.status === 'error' ? (\n                                    <div class=\"alert alert-danger\" role=\"alert\">\n                                        {this.state.results.message}\n                                    </div>\n                                ) : ''}\n                            </div>\n\n                            <form id=\"form-login\" onSubmit={e => this.handleSubmitLogin(e)}>\n                                <div className=\"mb-3\">\n                                    <label className=\"form-label\">Email address</label>\n                                    <input type=\"email\" id=\"auth-email\" name=\"email\" className=\"form-control\" placeholder=\"your@email.com\" required />\n                                </div>\n                                <div className=\"form-footer\">\n                                    <button type=\"submit\" className={`btn btn-primary w-100 ${this.state.isSearchingCredential ? 'disabled' : ''}`}>{this.state.isSearchingCredential ? 'Signing in...' : 'Sign in'}</button>\n                                </div>\n                            </form>\n                        </div>\n                        {/* <div className=\"hr-text\">or</div>\n                        <div className=\"card-body\">\n                            <div className=\"row\">\n                                <div className=\"col\"><a href=\"#\" className=\"btn w-100\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={24} height={24} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"icon text-github\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5\" /></svg>\n                                    Login with Github\n                                </a></div>\n                                <div className=\"col\"><a href=\"#\" className=\"btn w-100\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={24} height={24} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"icon text-x\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M4 4l11.733 16h4.267l-11.733 -16z\" /><path d=\"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772\" /></svg>\n                                    Login with X\n                                </a></div>\n                            </div>\n                        </div> */}\n                    </div>\n                    {/* <div className=\"text-center text-secondary mt-3\">\n                        Don't have account yet? <a href=\"./sign-up.html\" tabIndex={-1}>Sign up</a>\n                    </div> */}\n                </div>\n            </AuthLayout>\n\n        )\n    }\n}\n\nexport default Login;"],"names":["initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","UrlHelper","urlWrapper","url","this","basename","AuthLayout","props","_jsx","className","children","Login","Component","constructor","super","state","isSearchingCredential","results","componentDidMount","attemptCredential","email","database","getFirestore","firebaseConf","getDocs","query","collection","where","then","snapshot","docs","map","data","e","console","error","handleSubmitLogin","preventDefault","document","getElementById","value","setState","length","status","message","localStorage","setItem","JSON","stringify","window","location","href","render","_jsxs","src","process","width","alt","Constant","appName","class","role","id","onSubmit","type","name","placeholder","required"],"sourceRoot":""}